<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">


</head>
<body>

    <div class="container bg-secondary text-white text-center p-5 mt-4">
    <h1>Dom Exercise</h1>

    </div>

    <div class="container mt-4 mb-4 d-flex flex-row justify-content-center item-center">
        <div class="input-group mb-3" style="width:40%;">
            <input type="text" class="form-control search-text" placeholder="Item Name">
            <button class="input-group-text search-btn" id="basic-addon2"><i class="fa fa-search"></i> Search </button>
          </div>

   </div>

    <div class="container mt-4 mb-4 p-4">
    <button class="btn btn-primary btn-lg All-product">All Products<i class="fa fa list"></i> </button>
    <button class="btn btn-primary btn-lg clothes-product"> clothes<i class="fas fa-tshirt"></i> </button>
    <button class="btn btn-primary btn-lg shoes-product">shoes <i class="fas fa-shoe-prints"></i> </button>
    <button class="btn btn-primary btn-lg bag-product">bag<i class="fa fa-shopping-bag"></i> </button>
    <button class="btn btn-primary btn-lg accessories-product">accessories<i class="fas fa-hat-wizard"></i> </button>
    </div>

    
        <div class="container mt-4 mb-4 p-4">
            <div class="row product-list">

            </div>

        </div>
    

    <script>

        const url="./database/products.json";

        const getProducts =async (param)=>{

            const res=await fetch(url);
            const data=await res.json();

            const product_list=data["products"];

            if(param!==""){
                result_list=product_list.filter((product)=>product.category==param)

            }
            else{
                result_list=product_list
            }

            // clear contents

            document.querySelector(".product-list").innerHTML='';



            // product distribution
            result_list.forEach((product)=>{

                const div=document.createElement("div");
                div.classList.add("col-lg-3");
                div.classList.add("p-3");



                div.innerHTML=`
                           <div class="card" style="100%;">
                            <img src="${product.img}" class="card-img-top" alt="..." style="width:250px;height:250px;">
                            <div class="card-body">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text">${product.category}</p>
                                <a href="#" class="btn btn-primary"> Details </a>
                            </div>
                            </div>
                
                        `

                document.querySelector(".product-list").appendChild(div);


            })




        }

        getProducts(param="")


        /* All Products Button

        
        */

        const AllBtn=document.querySelector(".All-product")
        AllBtn.addEventListener("click",(e)=>{
            
            e.preventDefault()

            getProducts(param="")

        })


        /* All Products Button End



        */

         /* clothes Products Button

        
        */

        const clothesBtn=document.querySelector(".clothes-product")
        clothesBtn.addEventListener("click",(e)=>{
            
            e.preventDefault()

            getProducts(param="clothes")

        })


          /* clothes products Button End



        */

          /* shoes products Button

        
        */


        const shoesBtn=document.querySelector(".shoes-product")
        shoesBtn.addEventListener("click",(e)=>{
            
            e.preventDefault()

            getProducts(param="shoes")

        })


          /* shoes products Button End



        */


          /* Bag products Button

        
        */


        const bagBtn=document.querySelector(".bag-product")
        bagBtn.addEventListener("click",(e)=>{
            
            e.preventDefault()

            getProducts(param="bag")

        })


          /* Bag products Button End



        */



          /* Accessories products Button

        
        */


        const accessoriesBtn=document.querySelector(".accessories-product")
        accessoriesBtn.addEventListener("click",(e)=>{
            
            e.preventDefault()

            getProducts(param="accessories")

        })


          /* Accessories products Button End



        */


        /*
         Search Button


        */


        const searchBtn=document.querySelector(".search-btn")
        searchBtn.addEventListener("click",(e)=>{
            
            e.preventDefault()

            const search_term=document.querySelector(".search-text").value
            getProducts(search_term)

        })


        /* 
        Search Button End


        */


    </script>    




</body>
</html>